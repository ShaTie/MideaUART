#include "Midea/AirConditioner/DeviceData.hpp"
#include "Midea/AirConditioner/Status/DeviceControl.hpp"

namespace dongle {
namespace midea {
namespace ac {

DeviceData DeviceData::getPowerQuery() {
  return DeviceData{
      0x41, 0x21, 0x01, 0x44, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  };
}

DeviceData DeviceData::getStatusQuery() {
  return DeviceData{
      0x41, 0x81, 0x00, 0xFF, 0x03, 0xFF, 0x00, 0x02, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03,
  };
}

DeviceData DeviceData::lightToggleQuery() {
  return DeviceData{
      0x41, 0x61, 0x00, 0xFF, 0x02, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  };
}

DeviceData DeviceData::getCapabilitiesQuery(uint8_t n) {
  return n ? DeviceData{0xB5, 0x01, 0x01, n} : DeviceData{0xB5, 0x01, 0x11};
}

DeviceData DeviceData::setStatusQuery(const DeviceControl &x) {
  auto data(x.setStatusQuery());
  data.m_finalize();
  return data;
}

}  // namespace ac
}  // namespace midea
}  // namespace dongle
